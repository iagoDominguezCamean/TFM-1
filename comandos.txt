kubectl create namespace app1-ns
kubectl create namespace app2-ns

kubectl apply -f app1-pod.yaml --namespace app1-ns
kubectl apply -f app2-pod.yaml --namespace app2-ns

kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.12.0/deploy/static/provider/cloud/deploy.yaml

kubectl apply -f app1-internal-svc.yaml --namespace app1-ns